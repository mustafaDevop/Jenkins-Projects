--- 
 - name: "Make backend directory"
   become: true
   command: mkdir backend
   
 - name: "Unarchive backend files"
   become: true
   unarchive:
     src: artifact.tar.gz
     dest: ~/backend-app
  
 - name: "Unzip files as backend folder"
   become: true
   command: tar -xzf artifact.tar.gz
   args:
    chdir: /home/ubuntu/backend
    
 - name: "Install dependencies"
   become: true
   command: npm install
   args:
    chdir: /home/ubuntu/backend
    
 - name: "Run the app with PM2"
   become: true
   command: pm2 start npm -- start
   args:
    chdir: /home/ubuntu/backend
